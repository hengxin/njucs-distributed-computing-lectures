%%%%%%%%%%%%%%%
\begin{frame}[fragile]{}
  \begin{lstlisting}[style = JavaStyle]
 public class CASConsensus<T> 
      extends ConsensusProtocol<T> {
   private final int FIRST = -1;
   private AtomicInteger r = new AtomicInteger(FIRST);

   |\textcolor{teal}{@Override}|
   public T decide(T value) {
     propose(value);

     int i = ThreadID.get();
     if (r.compareAndSet(FIRST, i))  // I won
       return proposed[i];
     else                            // I lose
       return proposed[r.get()];
   }
 }
  \end{lstlisting}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Computational Power of \textsf{CAS}]
    A register providing \red{\textsf{compareAndSet()}} and \textsf{get()} methods
    can solve the consensus problem for \blue{any number} of threads.
  \end{theorem}

  \pause
  \vspace{0.80cm}
  \centerline{In terms of ``Consensus Number'':}

  \vspace{0.60cm}
  \begin{theorem}[Consensus Number of \textsf{CAS}]
    A register providing \red{\textsf{compareAndSet()}} and \textsf{get()} methods
    has \blue{infinite} \purple{\bf consensus number}.
  \end{theorem}
\end{frame}
%%%%%%%%%%%%%%%
